# ========================================
# WatchDNA Store Locator - Environment Variables
# ========================================

# ----------------------------------------
# Database Configuration
# ----------------------------------------
# Development (SQLite)
DATABASE_URL="file:./dev.db"

# Production (PostgreSQL - Railway/Render will provide this)
# DATABASE_URL="postgresql://user:password@host:5432/database"
# DIRECT_URL="postgresql://user:password@host:5432/database"

# ----------------------------------------
# Server Configuration
# ----------------------------------------
PORT=3001
NODE_ENV=development

# ----------------------------------------
# File Upload Configuration
# ----------------------------------------
UPLOAD_DIR=./uploads
# Production: Use /data/uploads for Railway persistent volume
# UPLOAD_DIR=/data/uploads

# ----------------------------------------
# Python Configuration
# ----------------------------------------
PYTHON_PATH=python
# Production: Usually python3
# PYTHON_PATH=python3

# ----------------------------------------
# Authentication (CRITICAL FOR PRODUCTION)
# ----------------------------------------
# IMPORTANT: Generate a strong random secret for production
# Run: openssl rand -base64 32
JWT_SECRET=change_this_to_random_secret_in_production
JWT_EXPIRES_IN=7d

# ----------------------------------------
# CORS Configuration
# ----------------------------------------
# Development: Allow local frontend
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Production: Whitelist only your domains
# ALLOWED_ORIGINS=https://watchdna.myshopify.com,https://admin.yourproject.railway.app,https://www.watchdna.com

# ----------------------------------------
# Rate Limiting Configuration
# ----------------------------------------
# Window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
# Max requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# ----------------------------------------
# Error Monitoring (Optional)
# ----------------------------------------
# Sentry DSN for error tracking in production
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ----------------------------------------
# External Services (Optional)
# ----------------------------------------
# Mapbox for enhanced mapping features
MAPBOX_SECRET=your_mapbox_token_here

# AWS S3 for cloud storage (alternative to local uploads)
# AWS_S3_BUCKET=watchdna-uploads
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_REGION=us-east-1

# ----------------------------------------
# Production Security Checklist
# ----------------------------------------
# Before deploying to production:
# ✅ Generate strong JWT_SECRET (openssl rand -base64 32)
# ✅ Set ALLOWED_ORIGINS to only your domains
# ✅ Use PostgreSQL DATABASE_URL (not SQLite)
# ✅ Set NODE_ENV=production
# ✅ Configure persistent storage for UPLOAD_DIR
# ✅ Enable SENTRY_DSN for error monitoring
# ✅ Review rate limits for your expected traffic
